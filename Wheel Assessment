##### Setting Up the File #####

import random
import json

words_file = open(r'Words.txt')
words_text = words_file.read().splitlines()
words_file.close()

##### Declaring Variables #####

new_word_list = []
vowels = ['a', 'e', 'i', 'o', 'u']
consonants = list('bcdfghjklmnpqrstvwxyz')

player_info = {'Player 1':{'Round 1 bank':0, 'Round 2 Bank':0, 'Total':0}, 
    'Player 2':{'Round 1 bank':0, 'Round 2 Bank':0, 'Total':0},
    'Player 3':{'Round 1 bank':0, 'Round 2 Bank':0, 'Total':0}}

vowel_count = 0
consonant_count = 0

for word in words_text:
   if word.isalpha() == True and (vowels[1] in word or 
   vowels[2] in word or 
   vowels[3] in word or 
   vowels[4] in word or 
   vowels[5] in word):
       new_word_list.append(word)

wheel = {}
wheel_cash_segments = range(18)

for number in wheel_cash_segments[1:]:
    wheel[number] = 50 + (50 * number)

wheel[18] = 'Lose a Turn'
wheel[19] = 'bankrupt'.upper()

##### Creating Functions #####

def guess_word():
    global guessed_word
    guessed_word = input("Guess the word!")

def bankrupt(player, round):
    print('Uh oh! You hit BANKRUPT')
    if player == 1:
        if round == 1:
            player_info['Player 1']['Round 1 Bank'] = 0
        elif round == 2:
            player_info['Player 1']['Round 2 Bank'] = 0
    elif player == 2: 
        if round == 1:
            player_info['Player 2']['Round 1 Bank'] = 0
        elif round == 2:
            player_info['Player 2']['Round 2 Bank'] = 0
    elif player == 3:
        if round == 1:
            player_info['Player 3']['Round 1 Bank'] = 0
        elif round == 2:
            player_info['Player 3']['Round 2 Bank'] = 0

def guess_consonant():
    global consonant_guess
    consonant_guess = input("Guess a consonant!")
    if consonant_guess not in consonants:
        print("That's not a consonant. Pick again.")
        guess_consonant()

def choose_word():
    global word_choice
    global number
    global listed_word
    listed_word = []
    word_choice = random.choice(new_word_list).lower()
    for number in word_choice:
        listed_word.append("_")

def set_bank(player, round):
    global round_money
    if player == 1:
        if round == 1:
            round_money = player_info['Player 1']['Round 1 Bank']
        elif round == 2:
            round_money = player_info['Player 1']['Round 2 Bank']
    elif player == 2: 
        if round == 1:
            round_money = player_info['Player 2']['Round 1 Bank']
        elif round == 2:
            round_money = player_info['Player 2']['Round 2 Bank']
    elif player == 3:
        if round == 1:
            round_money = player_info['Player 3']['Round 1 Bank']
        elif round == 2:
            round_money = player_info['Player 3']['Round 2 Bank']

def buy_vowel():
    global vowel_chosen
    vowel_chosen = input("Buy a vowel for $250")
    if vowel_chosen not in vowels:
        print("That's not a vowel. Pick again.")
        buy_vowel()
    if vowel_chosen in word_choice:
        for letter_spot in range(len(word_choice)):
            if(word_choice[letter_spot] == vowel_chosen):
                listed_word[letter_spot] = word_choice[letter_spot]
        print(" ".join(listed_word))
        if input("Would you like to guess a vowel?Y/N").upper() == "Y":
            buy_vowel()
    else: 
        print("That vowel is not in the word")

choose_word()
round_money = 0

def spin_wheel(player, round):
    global round_money
    segment_number = random.randint(1, 19)

    if player == 1 or player == 2:
        next_player = int(player + 1)
    elif player == 3:
        next_player = 1
    
    print(player, round)

    print(wheel[segment_number])
    print(round_money)
    
    if wheel[segment_number] == 'Lose a Turn':
      print("You lost your turn!")
      spin_wheel(player = next_player, round = round)
    elif wheel[segment_number] == 'BANKRUPT':
        bankrupt(player, round)
        spin_wheel(next_player, round)
    elif wheel[segment_number] in range(100,950):
        guess_consonant()
        if consonant_guess in word_choice:
            round_money += wheel[segment_number]
            for x in range(len(listed_word)):
                if consonant_guess == word_choice[x]:
                    listed_word[x] = consonant_guess
            print("".join(listed_word))
            set_bank(player, round)
            while round_money >= 250:
                print(round_money)
                if input("Would you like to buy a vowel? Y/N").upper() == 'Y':
                    print(" ".join(listed_word))
                    buy_vowel() 
                    round_money = round_money - 250
                    for x in range(len(listed_word)):
                        if vowel_chosen == word_choice[x]:
                            listed_word[x] = vowel_chosen
                    print(" ".join(listed_word))
                    continue
                elif input("Would you like to buy a vowel? Y/N").upper() == "N":
                    break
                else: 
                    print("You're out of money! Spin the wheel again.")
                    break
            spin_wheel(player, round)
        else:
            print("That consonant is not there")
            spin_wheel(next_player, round)
        print(word_choice)

spin_wheel(player = 1, round = 2)

##### Round 1 #####